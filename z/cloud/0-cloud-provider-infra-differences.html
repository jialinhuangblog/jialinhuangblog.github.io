<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Cloud Provider Network Architecture Comparison: AWS, Azure, and GCP</title></head><body><article class="page serif"><header><div class="page-header-icon undefined"><img class="icon" src="https://www.notion.so/icons/document_purple.svg"/></div><h1 class="page-title">Cloud Provider Network Architecture Comparison: AWS, Azure, and GCP</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-created_by"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesCreatedBy"><path d="M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 10.4229C6.05176 10.4229 4.54785 11.1133 3.83008 11.9131C2.90039 10.9082 2.33301 9.55469 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 9.55469 13.1064 10.9082 12.1699 11.9131C11.4521 11.1133 9.94824 10.4229 8 10.4229ZM8 9.30176C9.32617 9.30859 10.3516 8.18066 10.3516 6.71094C10.3516 5.33008 9.31934 4.18164 8 4.18164C6.6875 4.18164 5.6416 5.33008 5.64844 6.71094C5.65527 8.18066 6.68066 9.28809 8 9.30176Z"></path></svg></span>Created by</th><td><span class="user"><img src="Cloud%20Provider%20Network%20Architecture%20Comparison%20AWS%208fc5c1b5ae4f4573830ce30906d5842d/IMG_2295.jpg" class="icon user-icon"/>JiaLin Huang</span></td></tr><tr class="property-row property-row-last_edited_time"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesCreatedAt"><path d="M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM4.54102 8.91211H7.99316C8.30078 8.91211 8.54004 8.67285 8.54004 8.37207V3.8877C8.54004 3.58691 8.30078 3.34766 7.99316 3.34766C7.69238 3.34766 7.45312 3.58691 7.45312 3.8877V7.83203H4.54102C4.2334 7.83203 4.00098 8.06445 4.00098 8.37207C4.00098 8.67285 4.2334 8.91211 4.54102 8.91211Z"></path></svg></span>Last edited</th><td><time>@2024Âπ¥10Êúà1Êó• 14:24</time></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesMultipleSelect"><path d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path></svg></span>Tags</th><td><span class="selected-value select-value-color-purple">Post</span><span class="selected-value select-value-color-red">aws</span><span class="selected-value select-value-color-orange">azure</span><span class="selected-value select-value-color-green">gcp</span><span class="selected-value select-value-color-purple">vpc</span></td></tr></tbody></table></header><div class="page-body"><p class="">This article explores the differences in how the three major cloud providers design and operate network units, focusing on the configurations of subnets, VPCs, regions, and availability zones.</p><h1 class="">The Differences</h1><p class="">Based on the information from this page, we can summarize the key differences as follows:</p><p class=""><a href="https://blog.ipspace.net/2021/02/vpc-subnets-aws-azure-gcp.html">https://blog.ipspace.net/2021/02/vpc-subnets-aws-azure-gcp.html</a></p><table class="simple-table"><tbody><tr><td class="">Feature</td><td class="">AWS</td><td class="">Azure</td><td class="">GCP</td></tr><tr><td class="">Business Started at</td><td class="">2006</td><td class="">2010</td><td class="">2008</td></tr><tr><td class="">VPC spans AZs</td><td class="">üü¢</td><td class="">üü¢</td><td class="">üü¢</td></tr><tr><td class="">VPC spans Regions</td><td class="">‚ùå</td><td class="">‚ùå</td><td class="">üü¢</td></tr><tr><td class="">Subnet spans AZs</td><td class="">‚ùå</td><td class="">üü¢</td><td class="">üü¢</td></tr></tbody></table><p class=""><mark class="highlight-red">AWS appears to be the strictest in its network design, which may be due to it being the earliest major cloud player.</mark> </p><p class="">Subsequent providers like Azure and GCP may have attempted to offer more flexibility based on AWS&#x27;s design experience.</p><p class=""><strong>Two key points for further discussion:</strong></p><ol type="1" class="numbered-list" start="1"><li>How GCP implements VPCs that span regions</li></ol><ol type="1" class="numbered-list" start="2"><li>How Azure and GCP implement subnets that span Availability Zones (AZs)</li></ol><p class="">
</p><p class=""><strong>Click the image links. due to own‚Äôs referrer-policy, go check the origin website to show the images.</strong></p><p class=""><a href="https://blog.ipspace.net/2021/02/vpc-subnets-aws-azure-gcp.html">https://blog.ipspace.net/2021/02/vpc-subnets-aws-azure-gcp.html</a></p><div class="column-list"><div style="width:33.333333333333336%" class="column"><figure class="image"><a href="https://blog.ipspace.net/2021/02/aws-vpc-subnet.png"><img src="https://blog.ipspace.net/2021/02/aws-vpc-subnet.png"/></a></figure></div><div style="width:33.333333333333336%" class="column"><figure class="image"><a href="https://blog.ipspace.net/2021/02/azure-vpc-subnet.png"><img src="https://blog.ipspace.net/2021/02/azure-vpc-subnet.png"/></a></figure></div><div style="width:33.33333333333333%" class="column"><figure class="image"><a href="https://blog.ipspace.net/2021/02/gcp-vpc-subnet.png"><img src="https://blog.ipspace.net/2021/02/gcp-vpc-subnet.png"/></a></figure></div></div><p class="">
</p><p class="">
</p><h1 class="">The Illusion of Boundary-less Networks</h1><p class="">Have you ever wondered how an internal network can seemingly transcend physical limitations?</p><p class="">But here&#x27;s the kicker: <mark class="highlight-red"><strong>it&#x27;s all an illusion</strong></mark>, albeit a very clever one. While users might perceive VPCs as seamlessly spanning multiple regions, <mark class="highlight-red">the underlying infrastructure still relies on physical network transmission and Software-Defined Networking (SDN) control.</mark> It&#x27;s not actually transcending physical boundaries; it&#x27;s just making you think it is.</p><p class="">
</p><p class="">It sounds convoluted, but is it just because you&#x27;re not used to it?</p><p class="">Let&#x27;s look at some examples you&#x27;re more familiar with:</p><ol type="1" class="numbered-list" start="1"><li>containerization: you think you&#x27;ve abstracted away the entire computing environment, free from the shackles of the host system. In reality, containers still depend on the underlying OS and hardware. It&#x27;s just hidden from view.</li></ol><ol type="1" class="numbered-list" start="2"><li>serverless architectures: &quot;No servers? Magic!&quot; Not quite. The servers exist, but the cloud provider has simply whisked away the management tasks, leaving you with the illusion of server-less-ness.</li></ol><p class="">
</p><p class="">
</p><p class="">
</p><p class="">
</p><h2 class="">GCP&#x27;s Global VPC: Appearing to Ignore Physical Limitations</h2><p class=""><mark class="highlight-red"><strong>GCP is unique in allowing VPCs to span regions. This is achieved through several layers of abstraction and implementation:</strong></mark></p><h3 class="">Software-Defined Networking (SDN)</h3><p class="">It&#x27;s a tech that turns hardcoded network hardware into flexible software.</p><p class="">In the past, everything was hardcoded - functions, configs, you name it. Think routers, switches - all that stuff was set in stone.</p><p class="">SDN&#x27;s job? Stop the hardcoding madness. It&#x27;s all about abstracting away those physical dependencies wherever possible.</p><p class="">
</p><h3 class="">Andromeda</h3><p class="">Andromeda is GCP&#x27;s SDN layer. It implements SDN principles and exposes interfaces for use by the Global VPC. Key features include:</p><ul class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>Intelligent Routing</strong></mark>: Beyond simple distance-based routing, it considers current load, network health, and performance metrics for routing decisions.</li></ul><ul class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>Network Function Virtualization (NFV)</strong></mark>: Transforms traditional hardware network devices (like firewalls, NAT) into virtualized services.</li></ul><p class="">
</p><h3 class=""><strong>Global VPC</strong> </h3><p class="">Global VPC is the friendly face of this whole operation. It&#x27;s what users interact with, handling things like subnets, routing tables, and security rules.</p><ul class="bulleted-list"><li style="list-style-type:disc">Subnets</li></ul><ul class="bulleted-list"><li style="list-style-type:disc">Routing tables</li></ul><ul class="bulleted-list"><li style="list-style-type:disc">Network ACLs and Security Groups</li></ul><p class="">
</p><h3 class="">How It All Fits Together</h3><p class="">You can think of Global VPC as a shell or console, translating user commands into specific operations for Andromeda (the kernel). Global VPC acts as an intermediary, managing input and output.</p><p class=""><mark class="highlight-red"><strong>Think about Dependency Inversion.</strong></mark></p><p class="">This layered approach follows the Dependency Inversion Principle (DIP) in software design. </p><p class=""><mark class="highlight-red"><strong>Each layer can be both an abstraction for the layer above and a concrete implementation for the layer below.</strong></mark></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre class="code"><code class="language-Plain Text">Users ‚Üí Global VPC ‚Üí Andromeda ‚Üí Physical Network</code></pre><p class="">Andromeda serves as the abstraction provider for Global VPC and implements SDN concretely. </p><p class="">Global VPC acts as the abstraction provider for users and indirectly implements high-level SDN logic, relying on Andromeda for specific operations.</p><h3 class="">Let‚Äôs Pretend We Are a Request</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre class="code"><code class="language-Plain Text">User Request
‚Üí Internet
‚Üí GCP Edge Location (Point of Presence)
‚Üí Google&#x27;s Global Network
     |
     |-- Andromeda SDN Layer
     |      (Traffic management, routing decisions)

‚Üí Target GCP Region
‚Üí Specific Service/Resource
  (e.g., Load Balancer, VM, Cloud Run, etc.)</code></pre><p class="">Curious how your data actually travels through this maze? Here&#x27;s the quick tour:</p><ul class="bulleted-list"><li style="list-style-type:disc">You hit &#x27;Enter&#x27; on your keyboard. Your request goes through the internet.</li></ul><ul class="bulleted-list"><li style="list-style-type:disc">It reaches Google&#x27;s front door (an edge location or Points of Presence).</li></ul><ul class="bulleted-list"><li style="list-style-type:disc">Now it&#x27;s on Google&#x27;s private superhighway.<ul class="bulleted-list"><li style="list-style-type:circle">Andromeda plays air traffic controller, guiding your data.</li></ul><ul class="bulleted-list"><li style="list-style-type:circle">Your request arrives at its destination, maybe halfway around the world!</li></ul></li></ul><p class="">That&#x27;s how GCP makes it look like your network is one big, happy family, even when it&#x27;s spread across the globe!</p><p class="">
</p><p class=""><mark class="highlight-red"><strong>To Simplify</strong></mark></p><ol type="1" class="numbered-list" start="1"><li>Global VPC sets the traffic rules, </li></ol><ol type="1" class="numbered-list" start="2"><li>but Andromeda is the clever delivery guy who knows all the shortcuts. </li></ol><p class="">
</p><p class=""><mark class="highlight-red"><strong>Back to the Question</strong></mark></p><p class=""><strong>This is why in GCP&#x27;s Global VPC, an IP address range can span multiple regions.</strong> For example, a single, globally unique IP might belong to a load balancer. Once traffic reaches the load balancer, it can be distributed to different regions based on proximity or other factors.</p><p class="">
</p><p class="">
</p><h1 class="">Subnets Spanning Availability Zones</h1><p class="">Both Azure and GCP allow subnets to span Availability Zones within a region. </p><p class=""><mark class="highlight-red">This is simpler to implement than cross-region VPCs situations because the physical infrastructure is closer together within a single region.</mark></p><ul class="bulleted-list"><li style="list-style-type:disc">Azure uses Azure Virtual Network technology, which employs SDN-like methods to manage cross-AZ networks.</li></ul><ul class="bulleted-list"><li style="list-style-type:disc">GCP&#x27;s Andromeda platform handles not only cross-region communication but also manages network virtualization within regions (including across AZs).</li></ul><p class="">
</p><p class="">
</p><p class="">By allowing subnets to span AZs, these providers offer more flexibility in resource allocation and failover scenarios, while still maintaining the performance and isolation benefits of separate AZs.</p><h1 class="">References</h1><p class=""><a href="https://digitalcloud.training/a-brief-history-of-aws-and-how-computing-has-changed/">https://digitalcloud.training/a-brief-history-of-aws-and-how-computing-has-changed/</a></p><p class=""><a href="https://www.pluralsight.com/resources/blog/cloud/history-google-cloud-platform">https://www.pluralsight.com/resources/blog/cloud/history-google-cloud-platform</a></p><p class=""><a href="https://techcommunity.microsoft.com/t5/educator-developer-blog/the-history-of-microsoft-azure/ba-p/3574204">https://techcommunity.microsoft.com/t5/educator-developer-blog/the-history-of-microsoft-azure/ba-p/3574204</a></p><p class=""><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-overview">https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-overview</a></p><p class=""><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-faq#can-a-virtual-network-span-regions">https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-faq#can-a-virtual-network-span-regions</a></p><p class=""><a href="https://cloud.google.com/about/locations#network">https://cloud.google.com/about/locations#network</a></p><p class=""><a href="https://research.google/pubs/andromeda-performance-isolation-and-velocity-at-scale-in-cloud-network-virtualization/">https://research.google/pubs/andromeda-performance-isolation-and-velocity-at-scale-in-cloud-network-virtualization/</a></p><p class=""><a href="https://cloud.google.com/blog/products/networking/google-cloud-networking-in-depth-how-andromeda-2-2-enables-high-throughput-vms">https://cloud.google.com/blog/products/networking/google-cloud-networking-in-depth-how-andromeda-2-2-enables-high-throughput-vms</a></p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body>